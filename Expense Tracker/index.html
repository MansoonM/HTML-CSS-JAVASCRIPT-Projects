<!-- Build a responsive and animated website named Expense Tracker using html, css, js within One HTML File. It should consist of toggle button for dark or light modes of website. Use different colorful buttons. Each and every button should have some functionality. Add css for styleing and include google fonts for better fonts  -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #5e35b1;
            --secondary-color: #3949ab;
            --accent-color: #7c4dff;
            --text-color: #212121;
            --bg-color: #f5f5f5;
            --card-color: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --income-color: #2e7d32;
            --expense-color: #c62828;
            --savings-color: #0277bd;
        }

        [data-theme="dark"] {
            --primary-color: #7c4dff;
            --secondary-color: #5e35b1;
            --accent-color: #b388ff;
            --text-color: #f5f5f5;
            --bg-color: #121212;
            --card-color: #1e1e1e;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --income-color: #4caf50;
            --expense-color: #ef5350;
            --savings-color: #29b6f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            line-height: 1.6;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 0;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .theme-toggle {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            font-weight: 500;
            box-shadow: 0 4px 6px var(--shadow-color);
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px var(--shadow-color);
        }

        .theme-toggle i {
            margin-left: 0.5rem;
            font-size: 1rem;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background-color: var(--card-color);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 10px var(--shadow-color);
            animation: fadeIn 0.5s ease-in-out;
        }

        .card.income {
            border-bottom: 4px solid var(--income-color);
        }

        .card.expense {
            border-bottom: 4px solid var(--expense-color);
        }

        .card.savings {
            border-bottom: 4px solid var(--savings-color);
        }

        .card h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .card .amount {
            font-size: 2rem;
            font-weight: 700;
            margin: 1rem 0;
        }

        .card .income-amount {
            color: var(--income-color);
        }

        .card .expense-amount {
            color: var(--expense-color);
        }

        .card .savings-amount {
            color: var(--savings-color);
        }

        .transaction-form {
            background-color: var(--card-color);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 10px var(--shadow-color);
            margin-bottom: 2rem;
            animation: slideUp 0.5s ease-in-out;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-color);
        }

        input, select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            background-color: var(--card-color);
            color: var(--text-color);
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(94, 53, 177, 0.2);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px var(--shadow-color);
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px var(--shadow-color);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-success {
            background-color: var(--income-color);
            color: white;
        }

        .btn-danger {
            background-color: var(--expense-color);
            color: white;
        }

        .btn-info {
            background-color: var(--savings-color);
            color: white;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }

        .btn-warning {
            background-color: #ffc107;
            color: #212529;
        }

        .transactions {
            background-color: var(--card-color);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 10px var(--shadow-color);
            animation: fadeIn 0.5s ease-in-out;
        }

        .transaction-list {
            list-style: none;
            margin-top: 1rem;
        }

        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            animation: slideIn 0.3s ease-in-out forwards;
            opacity: 0;
        }

        .transaction-item:last-child {
            border-bottom: none;
        }

        .transaction-details {
            flex: 1;
        }

        .transaction-title {
            font-weight: 500;
        }

        .transaction-category {
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 0.2rem;
        }

        .transaction-amount {
            font-weight: 600;
        }

        .income {
            color: var(--income-color);
        }

        .expense {
            color: var(--expense-color);
        }

        .transaction-actions button {
            background: none;
            border: none;
            cursor: pointer;
            color: #6c757d;
            font-size: 1.2rem;
            margin-left: 0.5rem;
        }

        .transaction-actions button:hover {
            color: var(--primary-color);
        }

        .no-transactions {
            text-align: center;
            padding: 2rem;
            color: #6c757d;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateX(-20px);
            }
            to { 
                opacity: 1;
                transform: translateX(0);
            }
        }

        .stats-chart {
            position: relative;
            height: 200px;
            margin-top: 1rem;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Expense Tracker</h1>
            <button class="theme-toggle" id="themeToggle">
                Toggle Theme
                <i class="fas fa-moon"></i>
            </button>
        </header>

        <div class="dashboard">
            <div class="card income">
                <h3>Total Income</h3>
                <div class="amount income-amount" id="totalIncome">â‚¨0.00</div>
                <p>Your monthly earnings</p>
                <button class="btn btn-info" id="addIncomeBtn">Add Income</button>
            </div>

            <div class="card expense">
                <h3>Total Expenses</h3>
                <div class="amount expense-amount" id="totalExpense">â‚¨0.00</div>
                <p>Your monthly spendings</p>
                <button class="btn btn-danger" id="addExpenseBtn">Add Expense</button>
            </div>

            <div class="card savings">
                <h3>Savings</h3>
                <div class="amount savings-amount" id="savings">â‚¨0.00</div>
                <p>Balance after expenses</p>
                <button class="btn btn-success" id="setGoalBtn">Set Savings Goal</button>
            </div>
        </div>

        <div class="transaction-form" id="transactionForm">
            <h2>Add New Transaction</h2>
            <form id="addTransactionForm">
                <div class="form-group">
                    <label for="transactionType">Type</label>
                    <select id="transactionType" required>
                        <option value="income">Income</option>
                        <option value="expense">Expense</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionTitle">Title</label>
                    <input type="text" id="transactionTitle" placeholder="e.g., Salary, Groceries" required>
                </div>
                <div class="form-group">
                    <label for="transactionAmount">Amount (â‚¨ )</label>
                    <input type="number" id="transactionAmount" placeholder="0.00" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="transactionCategory">Category</label>
                    <select id="transactionCategory" required>
                        <option value="salary">Salary</option>
                        <option value="freelance">Freelance</option>
                        <option value="investment">Investment</option>
                        <option value="food">Food</option>
                        <option value="transport">Transportation</option>
                        <option value="shopping">Shopping</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="utilities">Utilities</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionDate">Date</label>
                    <input type="date" id="transactionDate" required>
                </div>
                <div class="form-group">
                    <label for="transactionNotes">Notes</label>
                    <input type="text" id="transactionNotes" placeholder="Additional notes (optional)">
                </div>
                <button type="submit" class="btn btn-primary">Add Transaction</button>
                <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
            </form>
        </div>

        <div class="transactions">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h2>Recent Transactions</h2>
                <div>
                    <button class="btn btn-warning" id="filterAllBtn">All</button>
                    <button class="btn btn-success" id="filterIncomeBtn">Income</button>
                    <button class="btn btn-danger" id="filterExpenseBtn">Expenses</button>
                </div>
            </div>
            <ul class="transaction-list" id="transactionList">
                <li class="no-transactions">No transactions yet. Add one to get started!</li>
            </ul>
        </div>
    </div>

    <script>
        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const addIncomeBtn = document.getElementById('addIncomeBtn');
        const addExpenseBtn = document.getElementById('addExpenseBtn');
        const setGoalBtn = document.getElementById('setGoalBtn');
        const transactionForm = document.getElementById('transactionForm');
        const addTransactionForm = document.getElementById('addTransactionForm');
        const cancelBtn = document.getElementById('cancelBtn');
        const transactionList = document.getElementById('transactionList');
        const totalIncomeElement = document.getElementById('totalIncome');
        const totalExpenseElement = document.getElementById('totalExpense');
        const savingsElement = document.getElementById('savings');
        const filterAllBtn = document.getElementById('filterAllBtn');
        const filterIncomeBtn = document.getElementById('filterIncomeBtn');
        const filterExpenseBtn = document.getElementById('filterExpenseBtn');
        const transactionType = document.getElementById('transactionType');
        
        // Initialize transactions array from localStorage or empty array
        let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
        let savingsGoal = localStorage.getItem('savingsGoal') || 0;
        let currentFilter = 'all';

        // Initialize the app
        function init() {
            updateUI();
            setCurrentDate();
            setThemeFromLocalStorage();
        }

        // Set current date as default for transaction date
        function setCurrentDate() {
            const dateInput = document.getElementById('transactionDate');
            const today = new Date();
            dateInput.value = today.toISOString().substr(0, 10);
        }

        // Set theme from localStorage or default to light
        function setThemeFromLocalStorage() {
            const currentTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', currentTheme);
            updateThemeIcon(currentTheme);
        }

        // Update theme icon based on current theme
        function updateThemeIcon(theme) {
            const themeIcon = themeToggle.querySelector('i');
            if (theme === 'dark') {
                themeIcon.className = 'fas fa-sun';
            } else {
                themeIcon.className = 'fas fa-moon';
            }
        }

        // Toggle theme
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });

        // Show transaction form
        function showTransactionForm(type = null) {
            if (type) {
                transactionType.value = type;
            }
            transactionForm.style.display = 'block';
            document.getElementById('transactionTitle').focus();
        }

        // Hide transaction form
        function hideTransactionForm() {
            transactionForm.style.display = 'none';
            addTransactionForm.reset();
            setCurrentDate();
        }

        // Add new transaction
        function addTransaction(e) {
            e.preventDefault();
            
            const type = transactionType.value;
            const title = document.getElementById('transactionTitle').value;
            const amount = parseFloat(document.getElementById('transactionAmount').value);
            const category = document.getElementById('transactionCategory').value;
            const date = document.getElementById('transactionDate').value;
            const notes = document.getElementById('transactionNotes').value;
            
            const transaction = {
                id: generateId(),
                type,
                title,
                amount,
                category,
                date,
                notes,
                createdAt: new Date().getTime()
            };
            
            transactions.unshift(transaction);
            saveTransactions();
            hideTransactionForm();
            updateUI();
        }

        // Generate unique ID for transactions
        function generateId() {
            return Math.random().toString(36).substr(2, 9);
        }

        // Delete transaction by ID
        function deleteTransaction(id) {
            transactions = transactions.filter(transaction => transaction.id !== id);
            saveTransactions();
            updateUI();
        }

        // Save transactions to localStorage
        function saveTransactions() {
            localStorage.setItem('transactions', JSON.stringify(transactions));
        }

        // Set savings goal
        function setSavingsGoal() {
            const goal = prompt('Enter your monthly savings goal:', savingsGoal);
            if (goal !== null) {
                savingsGoal = parseFloat(goal) || 0;
                localStorage.setItem('savingsGoal', savingsGoal);
                updateUI();
            }
        }

        // Update all UI elements
        function updateUI() {
            updateTransactionsList();
            updateSummary();
        }

        // Update transactions list
        function updateTransactionsList() {
            // Clear current list
            transactionList.innerHTML = '';
            
            // Get filtered transactions
            let filteredTransactions = transactions;
            if (currentFilter === 'income') {
                filteredTransactions = transactions.filter(t => t.type === 'income');
            } else if (currentFilter === 'expense') {
                filteredTransactions = transactions.filter(t => t.type === 'expense');
            }
            
            // Display all filtered transactions or empty message
            if (filteredTransactions.length === 0) {
                const emptyMessage = document.createElement('li');
                emptyMessage.className = 'no-transactions';
                emptyMessage.textContent = currentFilter === 'all' 
                    ? 'No transactions yet. Add one to get started!' 
                    : `No ${currentFilter} transactions found.`;
                transactionList.appendChild(emptyMessage);
            } else {
                filteredTransactions.forEach((transaction, index) => {
                    const li = document.createElement('li');
                    li.className = 'transaction-item';
                    li.style.animationDelay = `${index * 0.1}s`;
                    
                    li.innerHTML = `
                        <div class="transaction-details">
                            <div class="transaction-title">${transaction.title}</div>
                            <div class="transaction-category">${transaction.category}</div>
                            <div class="transaction-date">${formatDate(transaction.date)}</div>
                        </div>
                        <div class="transaction-amount ${transaction.type}">
                            ${transaction.type === 'income' ? '+' : '-'}$${transaction.amount.toFixed(2)}
                        </div>
                        <div class="transaction-actions">
                            <button onclick="deleteTransaction('${transaction.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                    transactionList.appendChild(li);
                });
            }
        }

        // Format date for display
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }

        // Update summary cards
        function updateSummary() {
            const totalIncome = transactions
                .filter(t => t.type === 'income')
                .reduce((sum, t) => sum + t.amount, 0);
                
            const totalExpense = transactions
                .filter(t => t.type === 'expense')
                .reduce((sum, t) => sum + t.amount, 0);
                
            const savings = totalIncome - totalExpense;
            
            totalIncomeElement.textContent = `$${totalIncome.toFixed(2)}`;
            totalExpenseElement.textContent = `$${totalExpense.toFixed(2)}`;
            savingsElement.textContent = `$${savings.toFixed(2)}`;
            
            // Check if savings goal is met
            if (savingsGoal > 0 && savings >= savingsGoal) {
                savingsElement.parentElement.style.backgroundColor = 'rgba(46, 125, 50, 0.1)';
            } else if (savingsGoal > 0) {
                savingsElement.parentElement.style.backgroundColor = 'rgba(198, 40, 40, 0.1)';
            } else {
                savingsElement.parentElement.style.backgroundColor = '';
            }
        }

        // Event Listeners
        addIncomeBtn.addEventListener('click', () => showTransactionForm('income'));
        addExpenseBtn.addEventListener('click', () => showTransactionForm('expense'));
        setGoalBtn.addEventListener('click', setSavingsGoal);
        addTransactionForm.addEventListener('submit', addTransaction);
        cancelBtn.addEventListener('click', hideTransactionForm);

        filterAllBtn.addEventListener('click', () => {
            currentFilter = 'all';
            updateTransactionsList();
        });

        filterIncomeBtn.addEventListener('click', () => {
            currentFilter = 'income';
            updateTransactionsList();
        });

        filterExpenseBtn.addEventListener('click', () => {
            currentFilter = 'expense';
            updateTransactionsList();
        });

        // Initialize the app
        document.addEventListener('DOMContentLoaded', init);

        // Make deleteTransaction function available globally
        window.deleteTransaction = deleteTransaction;
    </script>
</body>
</html>
